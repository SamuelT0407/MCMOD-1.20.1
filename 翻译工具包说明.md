# Minecraft 模组翻译工具包

## 概述

本工具包用于将Minecraft模组包从英文翻译为简体中文。整个流程包括：
1. **分析阶段**：扫描所有模组，找出需要翻译的key
2. **翻译阶段**：手动或自动翻译缺失的key
3. **整合阶段**：将翻译整合到资源包中

## 目录结构

```
MCMOD/
├── mods/                           # 原始模组JAR文件
├── resourcepacks/
│   ├── CN/                         # 用户翻译资源包（输出目录）
│   │   └── assets/{mod_id}/lang/zh_cn.json
│   └── Minecraft-Mod-Language-Modpack/  # 社区翻译包
├── translation_work/               # 翻译工作目录
│   ├── extracted/                  # 解压的模组
│   ├── patches/{mod_id}/           # 翻译补丁
│   │   ├── missing_en.json         # 缺失的英文key
│   │   ├── existing_zh.json        # 已有的中文翻译
│   │   ├── zh_cn_translated.json   # 新翻译的内容
│   │   └── info.json               # 模组信息
│   └── reports/                    # 分析报告
├── mod_translator.py               # 分析脚本
└── merge_translations.py           # 整合脚本
```

## 翻译优先级

翻译源按以下优先级使用：
1. **用户资源包** (`resourcepacks/CN/`) - 最高优先级
2. **模组内置翻译** (`{mod}.jar/assets/{mod_id}/lang/zh_cn.json`)
3. **社区翻译包** (`Minecraft-Mod-Language-Modpack/`)
4. **手动翻译** - 以上都没有时需要手动翻译

## 使用流程

### 步骤1：分析模组

运行分析脚本，生成缺失翻译报告：

```bash
python mod_translator.py
```

输出：
- `translation_work/patches/{mod_id}/missing_en.json` - 需要翻译的key
- `translation_work/reports/analysis_statistics.json` - 统计信息

### 步骤2：翻译缺失的key

对于每个模组的 `missing_en.json`，创建对应的 `zh_cn_translated.json`：

```json
// missing_en.json (输入)
{
  "item.mod.sword": "Diamond Sword",
  "block.mod.table": "Crafting Table"
}

// zh_cn_translated.json (输出)
{
  "item.mod.sword": "钻石剑",
  "block.mod.table": "工作台"
}
```

### 步骤3：整合翻译

运行整合脚本，将翻译合并到资源包：

```bash
python merge_translations.py
```

脚本会将 `patches/{mod_id}/zh_cn_translated.json` 合并到 `resourcepacks/CN/assets/{mod_id}/lang/zh_cn.json`

## 翻译技巧

### 常用术语对照表

| 英文 | 中文 |
|------|------|
| Battle Hammer | 战锤 |
| Battleaxe | 战斧 |
| Longsword | 长剑 |
| Greatsword | 巨剑 |
| Dagger | 匕首 |
| Rapier | 细剑 |
| Glaive | 关刀 |
| Halberd | 戟 |
| Pike | 长矛 |
| Javelin | 标枪 |
| Boomerang | 回旋镖 |
| Quarterstaff | 棍棒 |
| Scythe | 镰刀 |
| Tomahawk | 战斧（飞斧） |

### JSON格式注意事项

1. **避免中文引号**：使用「」代替""，否则会导致JSON解析错误
2. **换行符**：使用 `\\n` 表示换行
3. **保持key不变**：只翻译value，key必须与英文版一致

## 文件说明

- `mod_translator.py` - 分析脚本，扫描模组并生成翻译补丁
- `merge_translations.py` - 整合脚本，将翻译合并到资源包
